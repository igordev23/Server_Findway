{% extends "layouts/base-authentication.html" %}

{% block title %}Login{% endblock title %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/login.css') }}">
{% endblock stylesheets %}

{% block content %}
<div class="login-container">

  <!-- Lado esquerdo: logo -->
  <div class="login-left">
    <img src="{{ url_for('static', filename='assets/images/logo-findway.jpg') }}" alt="Logo FindWay">
  </div>

  <!-- Lado direito: formulário -->
  <div class="login-right">
    <h3 class="fw-bold mb-4">Login</h3>

    {% if msg %}
      <p class="text-danger">{{ msg | safe }}</p>
    {% else %}
      <p class="text-muted">Digite seu e-mail e senha para acessar o sistema.</p>
    {% endif %}

    <form id="loginForm" method="POST" action="">
      <div class="mb-3">
        <input type="email" class="form-control" id="email" placeholder="Email" required>
      </div>

      <div class="mb-3">
        <input type="password" class="form-control" id="senha" placeholder="Senha" required>
      </div>

      <button type="submit" id="btnLogin" class="btn btn-primary w-100 btn-loader">Entrar</button>

       <div class="text-center text-muted mt-3">
        <!-- Link atualizado para a rota de redefinição de senha -->
        <a href="{{ url_for('reset_password') }}">Esqueceu sua senha?</a>
      </div>
      <p class="text-center mt-3 text-danger" id="erro"></p>
    </form>
  </div>
</div>
{% endblock content %}

{% block javascripts %}
<!-- Firebase compatível (v8) -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

<!-- Configuração do Firebase (injetada pelo Flask) -->
<script id="firebase-config" type="application/json">{{ firebase_config | tojson }}</script>

<!-- Script JS específico da tela de login -->
<script src="{{ url_for('static', filename='assets/js/loginFirebase/login.js') }}"></script>
{% endblock javascripts %}
